<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>
<beans>
    <bean id="webscript.dk.openesdh.casetypes.get"
          class="dk.openesdh.repo.model.CaseTypes"
          parent="webscript">

        <property name="dictionaryService">
            <ref bean="dictionaryService"/>
        </property>
    </bean>
    <bean id="webscript.dk.openesdh.search.get"
          class="dk.openesdh.repo.webscripts.xsearch.XSearch"
          parent="webscript">
        <property name="nodeService" ref="nodeService"/>
        <property name="repository" ref="repositoryHelper"/>
        <property name="searchService" ref="searchService"/>
        <property name="namespaceService" ref="namespaceService"/>
        <property name="xSearchService" ref="XSearchService"/>
    </bean>

    <bean id="webscript.dk.openesdh.casehistory.get"
          class="dk.openesdh.repo.webscripts.cases.CaseHistory"
          parent="webscript">
        <property name="auditSearchService" ref="AuditSearchService"/>
    </bean>

    <bean id="webscript.dk.openesdh.userinvolvedsearch.get"
          class="dk.openesdh.repo.webscripts.xsearch.UserInvolvedSearch"
          parent="webscript">
        <property name="nodeService" ref="nodeService"/>
        <property name="repository" ref="repositoryHelper"/>
        <property name="namespaceService" ref="namespaceService"/>
        <property name="userInvolvedSearchService" ref="UserInvolvedSearchService"/>
        <property name="authenticationService" ref="authenticationService" />
    </bean>

    <bean id="webscript.dk.openesdh.caseownersearch.get"
          class="dk.openesdh.repo.webscripts.xsearch.CaseOwnerSearch"
          parent="webscript">
        <property name="nodeService" ref="nodeService"/>
        <property name="repository" ref="repositoryHelper"/>
        <property name="namespaceService" ref="namespaceService"/>
        <property name="caseOwnerSearchService" ref="CaseOwnerSearchService"/>
        <property name="authenticationService" ref="authenticationService" />
    </bean>

    <bean id="webscript.dk.openesdh.lastmodifiedbymesearch.get"
          class="dk.openesdh.repo.webscripts.xsearch.LastModifiedByMeSearch"
          parent="webscript">
        <property name="nodeService" ref="nodeService"/>
        <property name="repository" ref="repositoryHelper"/>
        <property name="namespaceService" ref="namespaceService"/>
        <property name="lastModifiedByMeSearchService" ref="LastModifiedByMeSearchService"/>
        <property name="authenticationService" ref="authenticationService" />
    </bean>

    <bean id="webscript.dk.openesdh.contactsearch.get"
          class="dk.openesdh.repo.webscripts.xsearch.ContactSearch"
          parent="webscript">
        <property name="nodeService" ref="nodeService"/>
        <property name="repository" ref="repositoryHelper"/>
        <property name="namespaceService" ref="namespaceService"/>
        <property name="contactSearchService" ref="ContactSearchService"/>
    </bean>

    <bean id="webscript.dk.openesdh.caseinfo.get"
          class="dk.openesdh.repo.webscripts.cases.CaseInfo"
          parent="webscript">
        <property name="nodeInfoService" ref="NodeInfoService"/>
        <property name="dictionaryService" ref="dictionaryService"/>
        <property name="caseService" ref="CaseService"/>
    </bean>

    <bean id="webscript.dk.openesdh.iscasenode.get"
          class="dk.openesdh.repo.webscripts.cases.IsCaseNode"
          parent="webscript">
        <property name="caseService" ref="CaseService"/>
    </bean>

    <bean id="webscript.dk.openesdh.caseroles.get"
          class="dk.openesdh.repo.webscripts.cases.CaseRoles"
          parent="webscript">
        <property name="caseService" ref="CaseService"/>
    </bean>


    <bean id="webscript.dk.openesdh.documents.get"
          class="dk.openesdh.repo.webscripts.documents.Documents"
          parent="webscript">
        <property name="documentService" ref="DocumentService"/>
        <property name="nodeService" ref="NodeService"/>
    </bean>

    <bean id="caseMemberWebscript"
          class="dk.openesdh.repo.webscripts.cases.CaseMembers"
          parent="webscript">
        <property name="caseService" ref="CaseService"/>
        <property name="authorityService" ref="AuthorityService"/>
        <property name="personService" ref="PersonService"/>
    </bean>
    <bean id="webscript.dk.openesdh.casemembers.get"
          parent="caseMemberWebscript">
    </bean>
    <bean id="webscript.dk.openesdh.casemembers.post"
          parent="caseMemberWebscript">
    </bean>
    <bean id="webscript.dk.openesdh.casemembers.delete"
          parent="caseMemberWebscript">
    </bean>

    <bean id="webscript.dk.openesdh.case.memberslist.get" class="dk.openesdh.repo.webscripts.cases.MembersList" parent="webscript">
        <property name="authorityService" ref="AuthorityService" />
        <property name="caseService" ref="CaseService" />
        <property name="personService" ref="PersonService" />
        <property name="nodeService" ref="nodeService" />
    </bean>


    <bean id="webscript.dk.openesdh.model.get"
          class="dk.openesdh.repo.model.ModelLookup"
          parent="webscript">

        <property name="dictionaryService">
            <ref bean="dictionaryService"/>
        </property>
        <property name="namespaceService">
            <ref bean="namespaceService"/>
        </property>
    </bean>

    <bean id="webscript.dk.openesdh.authorities.get"
          class="dk.openesdh.repo.webscripts.Authorities"
          parent="webscript">
        <property name="authorityService" ref="AuthorityService"/>
    </bean>

    <bean id="extendPermissionModel" parent="permissionModelBootstrap">
        <property name="model" value="alfresco/module/openesdh-repo/models/permission-model-extension.xml" />
    </bean>

    <bean id="webscript.dk.openesdh.journalize.put"
          class="dk.openesdh.repo.webscripts.cases.Journalize"
          parent="webscript">
        <property name="caseService" ref="CaseService"/>
    </bean>

    <bean id="webscript.dk.openesdh.CaseIDExtractor" class="dk.openesdh.repo.audit.CaseNodeRefExtractor">
        <property name="registry" ref="auditModel.extractorRegistry" />
        <property name="nodeService" ref="NodeService" />
        <property name="searchService" ref="searchService" />
    </bean>


    <bean id="webscript.dk.openesdh.documents.containerNodes.get" class="dk.openesdh.repo.webscripts.documents.DocumentCaseContainers" parent="webscript">
        <property name="caseService" ref="CaseService" />
        <property name="documentService" ref="DocumentService" />
    </bean>

    <bean id="webscript.dk.openesdh.documents.isCaseDoc.get" class="dk.openesdh.repo.webscripts.documents.IsCaseDocument" parent="webscript">
        <property name="caseService" ref="CaseService" />
        <property name="documentService" ref="DocumentService" />
    </bean>

    <bean id="webscript.dk.openesdh.case.caseNoderefById.get" class="dk.openesdh.repo.webscripts.cases.CaseNodeRefById" parent="webscript">
        <property name="caseService" ref="CaseService" />
        <property name="nodeService" ref="NodeService" />
    </bean>

</beans>
